compile 编译分成 parse、optimize 与 generate 三个阶段，
最终得到 render function，为生成一个新的虚拟node做准备。
new vnode和old vnode通过diff算法得出页面上变化的部分。

parse阶段，用正则等方式将 template 模板字符串进行解析，
得到指令、class、style等数据，形成 AST。

===========================================================

optimize阶段，将内容不会发生变化的节点标记为静态节点。
之所以要做标记是因为在后期的patch过程会将新旧虚拟节点
进行比对，将差异部分更新到视图上。这个比对过程是有消耗的，
对于静态节点，可以不用比对，直接绕过程。optimize本意就是
优化，optimize阶段做的事情也的确是优化的内容。 => 
如何判断一个节点是静态节点呢？

如果节点中含有表达式那一定是非静态节点。
如果节点中含有if, for指令那一定是非静态节点。
如果当前节点的任意一个子节点是非静态节点那么当前节点也是非静态节点。

===========================================================
generate 会将 经过静态处理后的AST 转化成 render funtion 字符串。
采用先序遍历算法，首先创建父元素，然后一次创建子元素。
创建主要是根据元素的type创建元素节点或者文本节点。
这里的创建主要是为添加_c,_v函数别名，
_c是createElement的别名,
_v是createTextNode的别名，
在创建的过程中会遇到v-if, v-for。

输入参数是：经过静态处理化之后的抽象语法树AST
返回结果是：render: `with(this){return ${code}}`;